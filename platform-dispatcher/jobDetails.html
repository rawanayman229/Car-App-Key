    <!doctype html>
    <html lang="en">
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Job Details</title>

    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <!-- NAVBAR -->
    <nav class="navbar">
      <div class="logo"><span>LS</span> LockSmith Platform</div>

      <div class="nav-links">
        <a href="dashboard.html"><i class="fa fa-house"></i> Dashboard</a>
        <a href="newJob.html"><i class="fa fa-plus"></i> New Job</a>
        <a href="jobHistory.html"><i class="fa-solid fa-list-ul"></i> Job History</a>
        <a href="dispatcherCompanies.html"><i class="fa-regular fa-map"></i> Companies</a>
        <a href="customers.html" >Customers</a>
      </div>

      <div class="profile"><i class="fa fa-user"></i> Dispatcher</div>

      <div class="toggle-sidebar" id="toggleSidebar">
        <i class="fa fa-bars"></i>
      </div>
    </nav>

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <a href="dashboard.html"><i class="fa fa-house"></i> Dashboard</a>
      <a href="newJob.html"><i class="fa fa-plus"></i> New Job</a>
      <a href="jobHistory.html"><i class="fa-solid fa-list-ul"></i> Job History</a>
      <a href="dispatcherCompanies.html"><i class="fa-regular fa-map"></i> Companies</a>
      <a href="customers.html" >Customers</a>
    </aside>

    <!-- MAIN -->
    <main class="mainContent" id="mainContent">
      <!-- HEADER -->
      <div class="header">
        <div>
          <h1>
            <i class="fa fa-arrow-left back" onclick="history.back()"></i>
            Job Details
          </h1>
          <p>Job ID: JOB-2024-001234</p>
        </div>

        <div>
          <span class="badge urgent ">Urgent</span>
          <span class="badge sent">Sent</span>
        </div>
      </div>

      <!-- Job Details Content -->
      <div class="details-grid">
      <!-- Left side content -->
      <div class="details-left">
          <!-- CUSTOMER -->
          <div class="card-box">
            <div class="card-title"><i class="fa-regular fa-user"></i> Customer Information</div>
            <div class="row mb-3">
              <div class="col">
                <div class="label">Customer Name</div>
                <div class="value">John Anderson</div>
              </div>

                <div class="col">
                <div class="label">Phone Number</div>
                <div class="value">(555) ***-2222</div>
              </div>
            </div>

            <div class="info-row">
              <div>
                <div class="label">Address</div>
                <div class="value">123 Market St, San Francisco, CA 94102</div>
              </div>
            </div>
          </div>

          <!-- JOB INFO -->
          <div class="card-box">
            <div class="card-title"><i class="fa-regular fa-file-lines"></i> Job Information</div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Item Type</div>
                <div class="value">Door</div>
              </div>

              <div class="col">
                <div class="label">Service Type</div>
                <div class="value">Lockout Service</div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Service Detail</div>
                <div class="value">Car key locked inside</div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Description</div>
                <div class="value">Customer locked keys inside Toyota Camry at downtown parking lot</div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Needs Key</div>
                <div class="value">No</div>
              </div>

              <div class="col">
                <div class="label">Needs Code</div>
                <div class="value">Yes</div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Base Price</div>
                <div class="value">$75.00</div>
              </div>

              <div class="col">
                <div class="label">Preliminary Price</div>
                <div class="value">$95.00</div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Final Price</div>
                <div class="value">$95.00</div>
              </div>

              <div class="col">
                <div class="label">Created At</div>
                <div class="value">12/02/2026 17:01</div>
              </div>
            </div>
            
          </div>

          <!-- Assignment & Relations -->
          <div class="card-box">
            <div class="card-title"><i class="fa-solid fa-user-group"></i> Assignment & Relations</div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Assigned Company</div>
                <div class="value">QuickLock Services Inc.</div>
              </div>

              <div class="col">
                <div class="label">Assigned Technician</div>
                <div class="value">Mike Johnson</div>
              </div>
            </div>

            <div class="row mb-3">
              <div class="col">
                <div class="label">Platform Dispatcher</div>
                <div class="value">Sarah Williams</div>
              </div>

              <div class="col">
                <div class="label">Company Dispatcher</div>
                <div class="value">Emily Davis</div>
              </div>
            </div>
          </div>

          <!-- NOTES -->
        <div class="card-box">
        <div class="d-flex flex-column mb-2">
        <div class="card-title mb-0"><i class="fa-regular fa-message"></i> Notes & Activity</div>
          <p class="text-muted">Add internal notes about this job</p>
        </div>

      <div class="note-wrapper">
       <textarea class="note-input" placeholder="Add a note about this job..."></textarea>
       <button class="add-note">
       <i class="fa fa-paper-plane"></i> Add Note
      </button>
      </div>

      <!-- Previous Notes -->
        <div class="d-flex flex-column mb-2">
        <div class="card-title mb-2">Previous Notes</div>
        <!-- row1 -->
        <div class="note-card">
          <div class="d-flex flex-row justify-content-between">
          <p class="value">Sarah Williams</p>
          <p class="text-muted">Feb 20, 2024, 09:35 AM</p>
          </div>
          <p class="text-muted">Platform Dispatcher</p>
          <p class="value">Customer mentioned urgent need due to meeting at 2 PM</p>
        </div>

        <!-- row2 -->
        <div class="note-card">
          <div class="d-flex flex-row justify-content-between">
          <p class="value">Emily Davis</p>
          <p class="text-muted">Feb 20, 2024, 09:35 AM</p>
          </div>
          <p class="text-muted">Company Dispatcher</p>
          <p class="value">Customer mentioned urgent need due to meeting at 2 PM</p>
        </div>
        </div>
        </div>

        </div>
        

        </div>
      </main>

    <script src="script.js"></script>

    <!-- Internal Script -->
  <script>
  // Grab query params
  const params = new URLSearchParams(window.location.search);
  const jobId = params.get("id");

  // Example job data 
    const jobsData = {
    j1: {
      customer: {
        name: "John Anderson",
        phone: "(555) 111-2222",
        address: "100 Park Ave, Manhattan",
      },
      job: {
        type: "Door",
        detail: "Key Code",
        created: "12/02/2026 17:01",
        price: "$85",
        description: "Locked out of apartment, need emergency access",
        status: ["Urgent", "Sent"]
      },
      company: {
        name: "QuickLock Services",
        rating: "★ 4.8 • 234 jobs",
        phone: "(555) 123-4567",
        address: "123 Main St, Downtown",
        status: "Available"
      },
      notes: [
        "Customer called at 2:30 PM",
        "Urgent lockout situation"
      ]
    },

    j2: {
      customer: { name: "Sarah Martinez", phone: "(555) 333-4444", address: "250 Broadway, New York" },
      job: { type: "Car", detail: "Lost keys", created: "11/02/2026 10:20", price: "$120", description: "Lost car keys, need replacement", status: ["Completed"] },
      company: { name: "SecureAccess Pro", rating: "★ 4.6 • 190 jobs", phone: "(555) 567-8901", address: "456 Park Ave", status: "Available" },
      notes: ["Called company to replace keys"]
    }
  };

  // Render function
  function renderJob(jobId) {
    const job = jobsData[jobId];
    if (!job) return;

    // Header
    document.querySelector(".header p").innerText = `ID: ${jobId}`;
    const statusContainer = document.querySelector(".header .status-pill");
    statusContainer.remove();
    const headerDiv = document.querySelector(".header");
    job.job.status.forEach((s) => {
      const span = document.createElement("span");
      span.className = `status-pill status-${s.toLowerCase().replace(" ", "-")}`;
      span.innerText = s;
      headerDiv.appendChild(span);
    });

    // Customer info
    document.querySelector(".details-left .card-box .value").innerText = job.customer.name;
    document.querySelectorAll(".details-left .info-row .value")[1].innerText = job.customer.phone;
    document.querySelectorAll(".details-left .info-row .value")[2].innerText = job.customer.address;

    // Job info
    const jobInfoValues = document.querySelectorAll(".details-left .card-box:nth-of-type(2) .value");
    jobInfoValues[0].innerText = job.job.type;
    jobInfoValues[1].innerText = job.job.detail;
    jobInfoValues[2].innerText = job.job.created;
    jobInfoValues[3].innerText = job.job.price;
    document.querySelector(".details-left .card-box:nth-of-type(2) .note").innerText = job.job.description;

    // Notes
    const notesContainer = document.querySelector(".details-left .card-box:nth-of-type(3)");
    notesContainer.querySelectorAll(".note").forEach(n => n.remove());
    job.notes.forEach(n => {
      const div = document.createElement("div");
      div.className = "note";
      div.innerText = n;
      notesContainer.appendChild(div);
    });

    // Company info
    const companyBox = document.querySelector(".details-right .card-box");
    companyBox.querySelector(".value").innerText = job.company.name;
    companyBox.querySelector(".label").innerText = job.company.rating;
    const vals = companyBox.querySelectorAll(".value");
    vals[1].innerText = job.company.phone;
    vals[2].innerText = job.company.address;
    companyBox.querySelector(".badge").innerText = job.company.status;
  }

  renderJob(jobId);
</script>
  </body>
</html>
