  <!doctype html>
  <html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jobs Management</title>
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="../assets/css/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"
    />
  </head>
 <body>
    <!-- Start Of Static Section (Side Bar) -->

    <!-- Sidebar Toggle Overlay (Mobile and Tablet) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- ===== Sidebar (Desktop) ===== -->
    <aside class="sidebar d-flex flex-column" id="sidebar">
      
      <!-- 1. Header Section -->
      <div class="sidebar-header">
        <!-- Logo Text -->
        <div class="logo">
          <h4>LockAccess Pro</h4>
          <p>Platform Admin</p>
        </div>

        <!-- Close button (Mobile) -->
        <button class="btn d-md-none text-muted" id="closeSidebar">
          <i class="fas fa-times"></i>
        </button>
      </div>

        <!-- 2. Navigation Menu -->
      <ul class="menu flex-grow-1">
        <li data-page="dashboard" class="active">
          <a href="dashboard.html">
            <i class="fa-solid fa-table-cells-large"></i>
            Dashboard
          </a>
        </li>

        <li data-page="companies">
          <a href="companies.html">
            <i class="fa-regular fa-building"></i>
            Companies
          </a>
        </li>

        <li data-page="reports">
          <a href="reports.html">
            <i class="fa-regular fa-file-lines"></i>
            Reports
          </a>
        </li>

        <li data-page="jobs">
          <a href="jobs.html">
            <i class="fa-solid fa-user-group"></i>
            Jobs
          </a>
        </li>

        <li data-page="notifications">
          <a href="notifications.html">
            <i class="fa-regular fa-bell"></i>
            Notifications
          </a>
        </li>

        <li data-page="customers">
          <a href="customers.html">
            <i class="fa-solid fa-users"></i>
            Customers
          </a>
        </li>
      </ul>
      <!-- 3. Sidebar Footer (User Profile) -->
      <div class="sidebar-footer">
      <div class="d-flex align-items-center gap-3">
      <!-- Avatar Circle -->
      <div class="user-avatar" id="userAvatar">U</div>

      <!-- Text Info -->
      <div class="user-info">
      <h6 id="sidebarUsername">User</h6>
      <small id="sidebarEmail">user@email.com</small>
    </div>
    </div>
    </div>
    </aside>
    <!-- End OF Sidebar -->
    
    <!-- ===== Main Wrapper (Nav + Content) ===== -->
    <div class="main-wrapper" id="mainWrapper">
      <!-- ===== Content (Changed Pages) ===== -->

      <!-- ===== Jobs Management Page ===== -->
      <main class="content">
        <!-- Header  -->
        <div class="d-flex justify-content-between align-items-center mb-4">
          <div>
            <h1 class="page-title">Jobs</h1>
            <p class="page-subtitle">Monitor all jobs sent to companies</p>
          </div>

          <!-- Add Job button  -->
          <a href="createJob.html" class="btn add-job-btn">
            <i class="fas fa-plus me-2"></i>
            Add Job
          </a>
        </div>
        <!-- End of Header  -->

        <!-- Search and Filter  -->
        <div class="filters mb-4">
          <div class="row g-3 align-items-center">
            <!-- Search -->
            <div class="col-lg-12">
              <div class="search-box">
                <i class="fas fa-search"></i>
                <input
                  type="text"
                  id="customSearch"
                  placeholder="Search companies..."
                />
              </div>
            </div>

          </div>
        </div>
        <!-- End Of Search and Filter  -->

        <!-- Table -->
        <div class="table-container">
          <table id="jobsTable" class="table w-100">
            <thead>
              <tr>
                <th>Job ID</th>
                <th>Customer</th>
                <th>Company</th>
                <th>Service</th>
                <th>Location</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </main>
    </div>

    <!-- JS Files -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/script.js"></script>

    <!-- PAGE SPECIFIC SCRIPT -->
    <script>
      let jobsTable;

      const MOCK_JOBS = [
        {
          id: "1001",
          date: "2024-02-01",
          customer: "Alice Doe",
          company: "ABC Locksmith",
          service: "Car Unlock",
          location: "New York",
          amount: 150,
          status: "Completed",
        },
        {
          id: "1002",
          date: "2024-02-02",
          customer: "Bob Smith",
          company: "QuickLock",
          service: "Key Programming",
          location: "LA",
          amount: 200,
          status: "In Progress",
        },
        {
          id: "1003",
          date: "2024-02-03",
          customer: "Charlie Day",
          company: "SafeKey",
          service: "Ignition Repair",
          location: "Chicago",
          amount: 350,
          status: "Pending",
        },
        {
          id: "1004",
          date: "2024-02-04",
          customer: "David Lee",
          company: "Master Locks",
          service: "Car Unlock",
          location: "Houston",
          amount: 120,
          status: "Cancelled",
        },
        {
          id: "1004",
          date: "2024-02-04",
          customer: "David Lee",
          company: "Master Locks",
          service: "Car Unlock",
          location: "Houston",
          amount: 120,
          status: "Cancelled",
        },
        {
          id: "1004",
          date: "2024-02-04",
          customer: "David Lee",
          company: "Master Locks",
          service: "Car Unlock",
          location: "Houston",
          amount: 120,
          status: "Cancelled",
        },
        {
          id: "1004",
          date: "2024-02-04",
          customer: "David Lee",
          company: "Master Locks",
          service: "Car Unlock",
          location: "Houston",
          amount: 120,
          status: "Cancelled",
        },
        {
          id: "1004",
          date: "2024-02-04",
          customer: "David Lee",
          company: "Master Locks",
          service: "Car Unlock",
          location: "Houston",
          amount: 120,
          status: "Cancelled",
        },
      ];
      //   Jobs Actions Column
      const JobsActions = (row) => [
        {
          icon: "fa-regular fa-eye me-2 ",
          title: "Details",
        },
      ];

      $(document).ready(function () {
        window.initDataTable("#jobsTable", MOCK_JOBS, [
          {
            data: "id",
            render: (d, t, r) =>
              window.renderDoubleLine(`#${r.id}`, r.date, "job"),
          },
          { data: "customer" },
          { data: "company" },
          { data: "service" },
          { data: "location" },
          {
            data: "amount",
            render: (d) => `$${d}`,
          },
          {
            data: "status",
            render: (d) => window.renderStatusBadge(d),
          },
          {
            data: null,
            orderable: false,
            render: (data, type, row) => {
              return `
                <div >
                      <a class="dropdown-item" href="jobDetails.html?id=${row.id}">
                        <i class="fa-regular fa-eye me-2 "></i>Details
                      </a>
                </div>
              `;
            },
          },
        ]);
      });
    </script>
  </body>
</html>
