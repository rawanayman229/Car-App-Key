<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Company Admin Dashboard</title>

    <!-- CSS Links-->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/apexcharts.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"/>
    </head>
    <body>
    <!-- Start Of Static Section (Side Bar) -->

    <!-- Sidebar Toggle Overlay (Mobile and Tablet) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- ===== Sidebar (Desktop) ===== -->
    <aside class="sidebar d-flex flex-column" id="sidebar">
      <!-- 1. Header Section -->
      <div class="sidebar-header">
        <!-- Logo Text -->
        <div class="logo">
          <h4>SecureAccess Pro</h4>
          <p>Company Admin</p>
        </div>

        <!-- Close button (Mobile) -->
        <button class="btn d-md-none text-muted" id="closeSidebar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- 2. Navigation Menu -->
      <ul class="menu flex-grow-1">
        <li data-page="dashboard" class="active">
          <a href="dashboard.html">
            <i class="fa-solid fa-table-cells-large"></i>
            Dashboard
          </a>
        </li>

        <li data-page="jobs">
          <a href="jobs.html">
            <i class="fa-solid fa-suitcase"></i>
            Jobs
          </a>
        </li>

        <li data-page="codes">
          <a href="codes.html">
            <i class="fa-solid fa-key"></i></i>
            Code Request
          </a>
        </li> 

        <li data-page="technicians">
          <a href="technicians.html">
            <i class="fa-solid fa-user-group"></i>
            Technicians
          </a>
        </li>

        <li data-page="financials">
          <a href="financials.html">
            <i class="fa-solid fa-dollar-sign"></i>
            Financials
          </a>
        </li>

        <li data-page="reports">
          <a href="reports.html">
            <i class="fa-regular fa-file-lines"></i>
            Reports
          </a>
        </li>

        <li data-page="company-area">
          <a href="company-area.html">
            <i class="fa-solid fa-building"></i>
            Company Area
          </a>
        </li>
        
        <li data-page="settings">
          <a href="settings.html">
            <i class="fa-solid fa-gear"></i>
            Settings
          </a>
        </li>
      </ul>
      <!-- 3. Sidebar Footer (User Profile) -->
      <div class="sidebar-footer">
        <div class="d-flex align-items-center gap-3">
          <!-- Avatar Circle -->
          <div class="user-avatar" id="userAvatar">AU</div>

          <!-- Text Info -->
          <div class="user-info">
            <h6 id="sidebarUsername">Admin User</h6>
            <small id="sidebarEmail">Elite Locksmith Co.</small>
          </div>
        </div>
      </div>
    </aside>
    <!-- End OF Sidebar -->

    <!-- ===== Main Wrapper (Content) ===== -->
    <main class="main-wrapper" id="mainWrapper">
      <!-- Mobile Header (Visible only on mobile/tablet to toggle sidebar) -->
      <div class="d-lg-none p-3 bg-white border-bottom d-flex align-items-center justify-content-between sticky-top">
        <h5 class="m-0 fw-bold text-dark">SecureAccess Pro</h5>
        <button class="btn btn-light" id="toggleSidebar">
          <i class="fas fa-bars"></i>
        </button>
      </div>

      <!-- Main Content Area -->
        <!-- Header -->
        <div class="d-flex flex-column justify-content-left">
          <h3 class="page-title">Dashboard</h3>
          <p class="page-subtitle">
            Welcome back! Here's what's happening today.</p>
        </div>

        <div class="urgent-container">
            <i class="fa-solid fa-circle-exclamation"></i>
            <div class="d-flex flex-column justify-content-left">  
            <p class="urgent-title">Urgent Jobs Require Attention</p>
            <p class="urgent-subtitle">2 urgent jobs need immediate assignment</p>
            </div>
        </div>
        <!-- Status Cards -->
        <div class="row g-4 mb-4">
          <div class="col-12 col-sm-6 col-md-4 col-xl">
              <div class="stat-card">
                <p>Active Jobs</p>                
                <div class="info">
                  <h3>3</h3>
                  <p class="icon-box"><i class="fa-solid fa-suitcase blue"></i></p>
              </div>
              <span class="green-text"><i class="fa-solid fa-arrow-trend-up"></i> +12% from yesterday</span>
            </div>
          </div>

            <div class="col-12 col-sm-6 col-md-4 col-xl">
              <div class="stat-card">
                <p>Pending Jobs</p>                
                <div class="info">
                  <h3>2</h3>
                  <p class="icon-box"><i class="fa-regular fa-clock orange"></i></p>
              </div>
              <span class="light-text"><i class="fa-regular fa-clock"></i> Awaiting assignment</span>
            </div>
          </div>

        <div class="col-12 col-sm-6 col-md-4 col-xl">
        <div class="stat-card">
                <p>Completed Today</p>                
                <div class="info">
                  <h3>5</h3>
                  <p class="icon-box"><i class="fa-regular fa-circle-check green"></i></p>
              </div>
              <span class="green-text"><i class="fa-regular fa-circle-check"></i>On track</span>
            </div>
          </div>

        <div class="col-12 col-sm-6 col-md-4 col-xl">
        <div class="stat-card">
                <p>Available Technicians</p>                
                <div class="info">
                  <h3>3</h3>
                  <p class="icon-box"><i class="fa-solid fa-user-group purple"></i></p>
              </div>
              <span class="light-text"><i class="fa-solid fa-user-group"></i>of 6 total</span>
            </div>
          </div>
        </div>
        <!-- End Of Status Cards -->

        <!-- Charts Row -->
        <div class="row g-3 mb-4">
          <!-- Revenue Trend -->
          <div class="col-lg-12">
            <div class="card-box">
              <h6>Revenue Trend</h6>
              <div id="revenueTrendChart"></div>
            </div>
          </div>
        </div>
        <!-- End Of Charts Row -->

        <!--Recent Row -->
        <div class="row g-2">
          <!-- Job Types Distribution -->
          <div class="col-lg-4">
            <div class="card-box">
              <h6>Job Types Distribution</h6>
              <div id="jobTypeChart" class="d-flex justify-content-center align-items-center h-75"></div>
            </div>
          </div>

          <!-- Recent Activity  -->
          <div class="col-lg-8">
            <div class="card-box">
            <h6>Recent Activity</h6>

            <div class="activity-list">
                <!-- Item 1 -->
            <div class="activity-item">
                <div class="d-flex align-items-center">
                    <div class="status-dot dot-blue"></div>
                    <div class="activity-info">
                        <div class="act-title">Emergency Lockout - Residential</div>
                        <div class="act-sub">425 Park Ave, Manhattan • John Martinez</div>
                    </div>
                </div>
                <span class="badge-custom priority-urgent">urgent</span>
            </div>

             <!-- Item 2 -->
            <div class="activity-item">
                <div class="d-flex align-items-center">
                    <div class="status-dot dot-blue"></div>
                    <div class="activity-info">
                        <div class="act-title">Lock Installation - Commercial</div>
                        <div class="act-sub">88 Broadway, Brooklyn • Sarah Chen</div>
                    </div>
                </div>
                <span class="priority-high">high</span>
            </div>

            <!-- Item 3 -->
            <div class="activity-item">
                <div class="d-flex align-items-center">
                    <div class="status-dot dot-green"></div>
                    <div class="activity-info">
                        <div class="act-title">Key Duplication</div>
                        <div class="act-sub">156 5th Ave, Manhattan • Mike Thompson</div>
                    </div>
                </div>
                <span class="priority-normal">normal</span>
            </div>

            <!-- Item 4 -->
            <div class="activity-item">
                <div class="d-flex align-items-center">
                    <div class="status-dot dot-green"></div>
                    <div class="activity-info">
                        <div class="act-title">Lock Repair - Office Building</div>
                        <div class="act-sub">2200 W 34th St, Queens • Emily Rodriguez</div>
                    </div>
                </div>
                <span class="priority-normal">normal</span>
            </div>

            <!-- Item 5 -->
            <div class="activity-item border-0">
                <div class="d-flex align-items-center">
                    <div class="status-dot dot-green"></div>
                    <div class="activity-info">
                        <div class="act-title">Master Key System Setup</div>
                        <div class="act-sub">501 Lexington Ave, Manhattan • David Kim</div>
                    </div>
                </div>
                <span class="priority-high">high</span>
            </div>

            </div>
            </div>
          </div>

        </div>
        <!-- End of Recent Activity -->
    </main>
    <!-- End of Main Wrapper -->

    <!-- JS Files -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/apexcharts.min.js"></script>
    <script src="../assets/js/script.js"></script>

    <!-- Internal Script to Render Charts -->
    <script>
      /* DASHBOARD CHARTS */
      /* ===== Revenue Trend (Line Chart) ===== */
      const revenueTrendEl = document.querySelector("#revenueTrendChart");

      if (revenueTrendEl && typeof ApexCharts !== "undefined") {
        new ApexCharts(revenueTrendEl, {
          series: [
            {
              name: "Revenue",
              data: [1700, 3000, 1500, 3800, 3500, 3000, 1500],
            },
          ],
          chart: {
            type: "line",
            height: 320,
            toolbar: { show: false },
            fontFamily: "inherit",
          },
          stroke: {
            curve: "smooth",
            width: 4,
          },
          markers: {
            size: 6,
            colors: ["#ffffff"],
            strokeColors: "#10B981",
            strokeWidth: 3,
            hover: { size: 8 },
          },
          colors: ["#10B981"],
          xaxis: {
            categories: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat","Sun"],
            axisBorder: { show: false },
            axisTicks: { show: false },
            labels: {
              style: {
                colors: "#9CA3AF",
                fontSize: "13px",
              },
            },
          },
          yaxis: {
          min: 0,
          max: 6000,
          tickAmount: 4,
          labels: {
          formatter: (val) => Math.round(val),
          style: {
          colors: "#9CA3AF",
          fontSize: "13px",
          },
            },
          },
          grid: {
            borderColor: "#E5E7EB",
            strokeDashArray: 4,
          },
          tooltip: {
            y: {
              formatter: (val) => `$${val.toLocaleString()}`,
            },
          },
        }).render();
      }
  
      /*Job Types Distribution (Pie Chart) */
      const jobTypeChartEl = document.querySelector("#jobTypeChart");
      if (jobTypeChartEl && typeof ApexCharts !== "undefined") {
        new ApexCharts(jobTypeChartEl, {
          series: [28, 35, 22, 15],
           labels: ["n", "Lockout", "Repair", "Key"],
          chart: {
            type: "pie",
            height: 300,
            fontFamily: "inherit",
          },
          colors: ["#10B981", "#3B82F6", "#F59E0B", "#EF4444"],
          dataLabels: {
            enabled: false
          },
          legend: {
            position: 'bottom',
            fontSize: '14px',
            markers: { radius: 12 },
            itemMargin: { horizontal: 10, vertical: 5 }
          },
          tooltip: {
            y: { formatter: (val) => `${val}%` }
          },
          stroke: { show: false }
        }).render();
      }
    </script>
  </body>
</html>
