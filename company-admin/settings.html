    <!doctype html>
    <html lang="en">
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>

    <!-- CSS Links-->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="../assets/css/apexcharts.css" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"/>
  </head>

  <body>
    <!-- Start Of Static Section (Side Bar) -->

    <!-- Sidebar Toggle Overlay (Mobile and Tablet) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

      <!-- ===== Sidebar (Desktop) ===== -->
    <aside class="sidebar d-flex flex-column" id="sidebar">
      <!-- 1. Header Section -->
      <div class="sidebar-header">
        <!-- Logo Text -->
        <div class="logo">
          <h4>SecureAccess Pro</h4>
          <p>Company Admin</p>
        </div>

        <!-- Close button (Mobile) -->
        <button class="btn d-md-none text-muted" id="closeSidebar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- 2. Navigation Menu -->
      <ul class="menu flex-grow-1">
        <li data-page="dashboard" class="active">
          <a href="dashboard.html">
            <i class="fa-solid fa-table-cells-large"></i>
            Dashboard
          </a>
        </li>

        <li data-page="jobs">
          <a href="jobs.html">
            <i class="fa-solid fa-suitcase"></i>
            Jobs
          </a>
        </li>

        <li data-page="codes">
          <a href="codes.html">
            <i class="fa-solid fa-key"></i></i>
            Code Request
          </a>
        </li> 

        <li data-page="technicians">
          <a href="technicians.html">
            <i class="fa-solid fa-user-group"></i>
            Technicians
          </a>
        </li>

        <li data-page="financials">
          <a href="financials.html">
            <i class="fa-solid fa-dollar-sign"></i>
            Financials
          </a>
        </li>

        <li data-page="reports">
          <a href="reports.html">
            <i class="fa-regular fa-file-lines"></i>
            Reports
          </a>
        </li>

        <li data-page="company-area">
          <a href="company-area.html">
            <i class="fa-solid fa-building"></i>
            Company Area
          </a>
        </li>
        
        <li data-page="settings">
          <a href="settings.html">
            <i class="fa-solid fa-gear"></i>
            Settings
          </a>
        </li>
      </ul>
      <!-- 3. Sidebar Footer (User Profile) -->
      <div class="sidebar-footer">
        <div class="d-flex align-items-center gap-3">
          <!-- Avatar Circle -->
          <div class="user-avatar" id="userAvatar">AU</div>

          <!-- Text Info -->
          <div class="user-info">
            <h6 id="sidebarUsername">Admin User</h6>
            <small id="sidebarEmail">Elite Locksmith Co.</small>
          </div>
        </div>
      </div>
    </aside>
    <!-- End OF Sidebar -->

    <!-- ===== Main Wrapper (Content) ===== -->
    <main class="main-wrapper" id="mainWrapper">
      <!-- Mobile Header (Visible only on mobile/tablet to toggle sidebar) -->
      <div
        class="d-lg-none p-3 bg-white border-bottom d-flex align-items-center justify-content-between sticky-top">
        <h5 class="m-0 fw-bold text-dark">SecureAccess Pro</h5>
        <button class="btn btn-light" id="toggleSidebar">
          <i class="fas fa-bars"></i>
        </button>
      </div>

      <!-- Main Content Area -->
      <!-- Header -->
      <div class="d-flex flex-column justify-content-left">
        <h3 class="page-title">Settings</h3>
        <p class="page-subtitle">Manage company details and preferences.</p>
      </div>

    <div class="settings-container mt-4">
    <!-- COMPANY DETAILS -->
    <div class="settings-card">
    <div class="settings-title">
      <p class="icon-box"><i class="fa-solid fa-building blue"></i></p>
      <h5>Company Details</h5>
    </div>

    <div class="row g-3 mt-2">
      <div class="col-md-6">
        <label>Company Name</label>
        <input class="form-control" value="Elite Locksmith Co.">
      </div>

      <div class="col-md-6">
        <label>Company Email</label>
        <input class="form-control" value="contact@elitelocksmith.com">
      </div>

      <div class="col-md-6">
        <label>Phone Number</label>
        <input class="form-control" value="+1 (555) 123-4567">
      </div>

      <div class="col-md-6">
        <label>License Number</label>
        <input class="form-control" value="LCK-2024-8421">
      </div>

      <div class="col-12">
        <label>Business Address</label>
        <input class="form-control" value="123 Main Street, Suite 100, New York, NY 10001">
      </div>
    </div>
  </div>


  <!-- DEFAULT RATES -->
  <div class="settings-card">
    <div class="settings-title">
      <p class="icon-box"><i class="fa-solid fa-dollar-sign green"></i></p>
      <h5>Default Rates</h5>
    </div>

    <div class="row g-3 mt-2">
      <div class="col-md-6">
        <label>Standard Service Call</label>
        <input class="form-control" value="$ 75">
      </div>

      <div class="col-md-6">
        <label>Emergency Service Call</label>
        <input class="form-control" value="$ 150">
      </div>

      <div class="col-md-6">
        <label>Hourly Labor Rate</label>
        <input class="form-control" value="$ 95">
      </div>

      <div class="col-md-6">
        <label>Key Duplication (per key)</label>
        <input class="form-control" value="$ 8">
      </div>

      <div class="col-md-6">
        <label>Lock Installation</label>
        <input class="form-control" value="$ 125">
      </div>

      <div class="col-md-6">
        <label>Lock Repair</label>
        <input class="form-control" value="$ 85">
      </div>
    </div>
  </div>

  <!-- WORKING HOURS -->
  <div class="settings-card">
    <div class="settings-title">
      <p class="icon-box"><i class="fa-regular fa-clock purple"></i></p>
      <h5>Working Hours</h5>
    </div>

    <!-- Days -->
    <div class="mt-3">
      <label class="fw-semibold">Working Days</label>

      <div class="d-flex flex-wrap gap-3 mt-2">
        <div class="form-check"><input checked class="form-check-input" type="checkbox"> Monday</div>
        <div class="form-check"><input checked class="form-check-input" type="checkbox"> Tuesday</div>
        <div class="form-check"><input checked class="form-check-input" type="checkbox"> Wednesday</div>
        <div class="form-check"><input checked class="form-check-input" type="checkbox"> Thursday</div>
        <div class="form-check"><input checked class="form-check-input" type="checkbox"> Friday</div>
        <div class="form-check"><input class="form-check-input" type="checkbox"> Saturday</div>
        <div class="form-check"><input class="form-check-input" type="checkbox"> Sunday</div>
      </div>

      <small class="text-muted">Select the days your company operates. At least one day must be selected.</small>
    </div>


    <!-- Time Rows -->
    <div class="table-responsive mt-3">
      <table class="table align-middle">
        <tbody>

          <!-- Day Row -->
          <tr>
            <td class="fw-semibold">Monday</td>
            <td style="width:220px">
              <input type="time" class="form-control">
            </td>
            <td style="width:10px">-</td>
            <td style="width:220px">
              <input type="time" class="form-control">
            </td>
            <td class="text-end">
              <button class="btn btn-light btn-sm me-2">
                <i class="fa-regular fa-copy"></i> Copy to All
              </button>
              <button class="btn btn-light btn-sm">
                <i class="fa-regular fa-trash-can"></i>
              </button>
            </td>
          </tr>

          <!-- duplicate rows -->
          <tr>
            <td class="fw-semibold">Tuesday</td>
            <td><input type="time" class="form-control"></td>
            <td>-</td>
            <td><input type="time" class="form-control"></td>
            <td class="text-end">
              <button class="btn btn-light btn-sm me-2"><i class="fa-regular fa-copy"></i> Copy to All</button>
              <button class="btn btn-light btn-sm"><i class="fa-regular fa-trash-can"></i></button>
            </td>
          </tr>

          <tr>
            <td class="fw-semibold">Wednesday</td>
            <td><input type="time" class="form-control"></td>
            <td>-</td>
            <td><input type="time" class="form-control"></td>
            <td class="text-end">
              <button class="btn btn-light btn-sm me-2"><i class="fa-regular fa-copy"></i> Copy to All</button>
              <button class="btn btn-light btn-sm"><i class="fa-regular fa-trash-can"></i></button>
            </td>
          </tr>

          <tr>
            <td class="fw-semibold">Thursday</td>
            <td><input type="time" class="form-control"></td>
            <td>-</td>
            <td><input type="time" class="form-control"></td>
            <td class="text-end">
              <button class="btn btn-light btn-sm me-2"><i class="fa-regular fa-copy"></i> Copy to All</button>
              <button class="btn btn-light btn-sm"><i class="fa-regular fa-trash-can"></i></button>
            </td>
          </tr>

          <tr>
            <td class="fw-semibold">Friday</td>
            <td><input type="time" class="form-control"></td>
            <td>-</td>
            <td><input type="time" class="form-control"></td>
            <td class="text-end">
              <button class="btn btn-light btn-sm me-2"><i class="fa-regular fa-copy"></i> Copy to All</button>
              <button class="btn btn-light btn-sm"><i class="fa-regular fa-trash-can"></i></button>
            </td>
          </tr>

        </tbody>
      </table>
    </div>

    <div class="closed-days mt-3">
      Closed Days: Saturday, Sunday
    </div>
  </div>


  <!-- FOOTER BUTTONS -->
  <div class="d-flex justify-content-end gap-3 mt-4">
    <button class="btn secondary-btn px-4">Cancel</button>
    <button class="btn primary-btn px-4">
      <i class="fa-regular fa-floppy-disk me-2"></i>
      Save Changes
    </button>
    </div>
     </div>
    </main>
    <!-- End of Main Wrapper -->

    <!-- JS Files -->
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/apexcharts.min.js"></script>
    <script src="script.js"></script>

    <!-- Internal JS -->
    <script>
     const tbody = document.querySelector("table tbody");
    const checkboxes = document.querySelectorAll(".d-flex.flex-wrap .form-check input");

  // List of all weekdays for reference
    const weekdays = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];

  // FUNCTION TO RENDER TABLE ROWS BASED ON CHECKBOXES
    function renderTableRows() {
    tbody.innerHTML = ""; // clear table
    checkboxes.forEach(cb => {
      const dayName = cb.parentElement.textContent.trim();
      if(cb.checked){
        const row = document.createElement("tr");
        row.innerHTML = `
          <td class="fw-semibold">${dayName}</td>
          <td><input type="time" class="form-control"></td>
          <td>-</td>
          <td><input type="time" class="form-control"></td>
          <td class="text-end">
            <button class="btn btn-light btn-sm me-2"><i class="fa-regular fa-copy"></i> Copy to All</button>
            <button class="btn btn-light btn-sm"><i class="fa-regular fa-trash-can"></i></button>
          </td>`;
        tbody.appendChild(row);

        // Attach copy functionality
        row.querySelector(".fa-copy").closest("button").onclick = () => {
          const start = row.querySelectorAll("input")[0].value;
          const end = row.querySelectorAll("input")[1].value;
          document.querySelectorAll("tbody tr").forEach(r=>{
            r.querySelectorAll("input")[0].value = start;
            r.querySelectorAll("input")[1].value = end;
          });
        };

        // Attach delete functionality
        row.querySelector(".fa-trash-can").closest("button").onclick = () => {
          cb.checked = false;
          renderTableRows(); 
        };
      }
    });

    // Update closed days
    updateClosedDays();
  }

  // UPDATE CLOSED DAYS TEXT
  function updateClosedDays(){
    const closedDaysDiv = document.querySelector(".closed-days");
    let closedDays = [];
    checkboxes.forEach(cb=>{
      const day = cb.parentElement.textContent.trim();
      if(!cb.checked) closedDays.push(day);
    });
    closedDaysDiv.textContent = closedDays.length ? "Closed Days: "+closedDays.join(", ") : "Closed Days: None";
  }

  // LISTEN FOR CHECKBOX CHANGES
    checkboxes.forEach(cb=>{
    cb.addEventListener("change", renderTableRows);
    });

    // INITIAL RENDER
    renderTableRows();

    // DELETE ROW FUNCTIONALITY
    document.querySelectorAll(".fa-trash-can").forEach(btn => {
    btn.closest("button").onclick = () => {
      const row = btn.closest("tr");
      const dayName = row.querySelector("td.fw-semibold").textContent.trim();
      const checkboxes = document.querySelectorAll(".d-flex.flex-wrap .form-check");
      let dayChecked = false;
      checkboxes.forEach(cb => {
        if (cb.textContent.trim().startsWith(dayName) && cb.querySelector("input").checked) {
          dayChecked = true;
        }
      });

      if (dayChecked) {
        row.remove();
        updateClosedDays();
      } else {
        alert(`Cannot delete ${dayName} because it's not selected as a working day.`);
      }
    };
    });

     // SAVE CHANGES BUTTON
    document.querySelector(".primary-btn").onclick = () => {
      alert("Changes added successfully!");
    };

   </script> 
    </body>
    </html>
