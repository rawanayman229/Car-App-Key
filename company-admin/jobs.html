    <!doctype html>
    <html lang="en">
    <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jobs Management</title>

    <!-- CSS Links-->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css"/>
  </head>

  <body>
    <!-- Start Of Static Section (Side Bar) -->

    <!-- Sidebar Toggle Overlay (Mobile and Tablet) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

      <!-- ===== Sidebar (Desktop) ===== -->
    <aside class="sidebar d-flex flex-column" id="sidebar">
      <!-- 1. Header Section -->
      <div class="sidebar-header">
        <!-- Logo Text -->
        <div class="logo">
          <h4>SecureAccess Pro</h4>
          <p>Company Admin</p>
        </div>

        <!-- Close button (Mobile) -->
        <button class="btn d-md-none text-muted" id="closeSidebar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <!-- 2. Navigation Menu -->
      <ul class="menu flex-grow-1">
        <li data-page="dashboard" class="active">
          <a href="dashboard.html">
            <i class="fa-solid fa-table-cells-large"></i>
            Dashboard
          </a>
        </li>

        <li data-page="jobs">
          <a href="jobs.html">
            <i class="fa-solid fa-suitcase"></i>
            Jobs
          </a>
        </li>

        <li data-page="codes">
          <a href="codes.html">
            <i class="fa-solid fa-key"></i></i>
            Code Request
          </a>
        </li> 

        <li data-page="technicians">
          <a href="technicians.html">
            <i class="fa-solid fa-user-group"></i>
            Technicians
          </a>
        </li>

        <li data-page="financials">
          <a href="financials.html">
            <i class="fa-solid fa-dollar-sign"></i>
            Financials
          </a>
        </li>

        <li data-page="reports">
          <a href="reports.html">
            <i class="fa-regular fa-file-lines"></i>
            Reports
          </a>
        </li>

        <li data-page="company-area">
          <a href="company-area.html">
            <i class="fa-solid fa-building"></i>
            Company Area
          </a>
        </li>
        
        <li data-page="settings">
          <a href="settings.html">
            <i class="fa-solid fa-gear"></i>
            Settings
          </a>
        </li>
      </ul>
      <!-- 3. Sidebar Footer (User Profile) -->
      <div class="sidebar-footer">
        <div class="d-flex align-items-center gap-3">
          <!-- Avatar Circle -->
          <div class="user-avatar" id="userAvatar">AU</div>

          <!-- Text Info -->
          <div class="user-info">
            <h6 id="sidebarUsername">Admin User</h6>
            <small id="sidebarEmail">Elite Locksmith Co.</small>
          </div>
        </div>
      </div>
    </aside>
    <!-- End OF Sidebar -->

    <!-- ===== Main Wrapper (Content) ===== -->
    <main class="main-wrapper" id="mainWrapper">
      <!-- Mobile Header (Visible only on mobile/tablet to toggle sidebar) -->
      <div
        class="d-lg-none p-3 bg-white border-bottom d-flex align-items-center justify-content-between sticky-top"
      >
        <h5 class="m-0 fw-bold text-dark">SecureAccess Pro</h5>
        <button class="btn btn-light" id="toggleSidebar">
          <i class="fas fa-bars"></i>
        </button>
      </div>

      <!-- Main Content Area -->
      <!-- Header -->
      <div class="d-flex flex-column justify-content-left">
        <h3 class="page-title">Jobs Management</h3>
        <p class="page-subtitle">View and manage all company jobs.</p>
      </div>

      <div class="row content gap-3 align-items-center mb-3">
        <!-- ===== Search + Filter Section ===== -->
        <!-- Search -->
        <div class="col-lg-5">
          <div class="search-box">
            <i class="fas fa-search"></i>
            <input type="text" id="customSearch" placeholder="Search jobs..." />
          </div>
        </div>

        <!-- Status -->
        <div class="filter col-lg-3">
          <i class="fa-solid fa-filter"></i>
          <select id="statusFilter">
            <option value="">All Statuses</option>
            <option>Pending</option>
            <option>In Progress</option>
            <option>Completed</option>
            <option>Cancelled</option>
          </select>
        </div>

        <!-- Duration -->
        <div class="filter col-lg-3 duration-filter">
          <i class="fa-regular fa-calendar"></i>
          <select id="durationOperator">
            <option value="">All Time</option>
            <option value="today">Today</option>
            <option value="week">This Week</option>
            <option value="month">This Month</option>
          </select>
        </div>
      </div>

      <!-- Table -->
      <div class="table-responsive">
        <table id="jobsTable" class="table w-100">
          <thead>
            <tr>
              <th>Job ID</th>
              <th>Job Details</th>
              <th>Location</th>
              <th>Assigned To</th>
              <th>Date</th>
              <th>Priority</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </main>
    <!-- End of Main Wrapper -->

    <!-- JS Files -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>

    <!-- Internal Script -->
    <script>
      // Inintal Table

      let jobsTable;
      const MOCK_JOBS = [
        {
          id: "JOB-1001",
          details: "Emergency Lockout - Residential",
          location: "425 Park Ave, Manhattan",
          assigned: "John Martinez",
          date: "2026-02-26",
          priority: "Urgent",
          status: "In Progress",
        },
        {
          id: "JOB-1002",
          details: "Lock Installation - Commercial",
          location: "88 Broadway, Brooklyn",
          assigned: "Sarah Chen",
          date: "2026-01-30",
          priority: "High",
          status: "In Progress",
        },
        {
          id: "JOB-1003",
          details: "Key Duplication",
          location: "156 5th Ave, Manhattan",
          assigned: "Mike Thompson",
          date: "2026-02-12",
          priority: "Normal",
          status: "Completed",
        },
        {
          id: "JOB-1004",
          details: "Lock Repair",
          location: "2200 W 34th St, Queens",
          assigned: "Emily Rodriguez",
          date: "2026-02-12",
          priority: "Normal",
          status: "Cancelled",
        },
        {
          id: "JOB-1005",
          details: "Lock Repair",
          location: "2200 W 34th St, Queens",
          assigned: "Emily Rodriguez",
          date: "2026-02-12",
          priority: "Normal",
          status: "Pending",
        },
        {
          id: "JOB-1006",
          details: "Lock Repair",
          location: "2200 W 34th St, Queens",
          assigned: "Emily Rodriguez",
          date: "2026-02-12",
          priority: "Normal",
          status: "Pending",
        },
        {
          id: "JOB-1007",
          details: "Lock Repair",
          location: "2200 W 34th St, Queens",
          assigned: "Emily Rodriguez",
          date: "2026-02-12",
          priority: "Normal",
          status: "Pending",
        },
      ];

      $(document).ready(function () {
        jobsTable = initDataTable("#jobsTable", MOCK_JOBS, [
          { data: "id" },
          { data: "details" },
          {
            data: "location",
            render: (d) => `
      <span class="d-flex align-items-center gap-2">
        <i class="fa-solid fa-location-dot"></i>
        <span>${d}</span>
      </span> `,
          },
          {
            data: "assigned",
            render: (d) => `
      <span class="d-flex align-items-center gap-2">
        <i class="fa-solid fa-user"></i>
        <span>${d}</span>
      </span>`,
          },
          { data: "date" },

          {
            data: "priority",
            render: (d) => renderPriorityBadge(d),
          },

          {
            data: "status",
            render: (d) => renderStatusBadge(d),
          },
        ]);

        /* Search */
        $("#customSearch").on("keyup", function () {
          jobsTable.search(this.value).draw();
        });

        /* Status Filter */
        $("#statusFilter").on("change", function () {
          const val = this.value;
          if (val) {
            jobsTable.column(6).search(val).draw();
          } else {
            jobsTable.column(6).search("").draw();
          }
        });

        /* Date Filter */
        $("#durationOperator").on("change", function () {
          const val = this.value;

          if (!val) {
            jobsTable.column(4).search("").draw();
            return;
          }

          const today = new Date();
          let startDate = null;

          if (val === "today") {
            startDate = new Date(
              today.getFullYear(),
              today.getMonth(),
              today.getDate(),
            );
          }

          if (val === "week") {
            const firstDay = today.getDate() - today.getDay();
            startDate = new Date(
              today.getFullYear(),
              today.getMonth(),
              firstDay,
            );
          }

          if (val === "month") {
            startDate = new Date(today.getFullYear(), today.getMonth(), 1);
          }

          $.fn.dataTable.ext.search.push(function (settings, data) {
            const rowDate = new Date(data[4]);
            return rowDate >= startDate;
          });

          jobsTable.draw();

          // Clear filter stack to prevent duplicates
          $.fn.dataTable.ext.search.pop();
        });
      });
    </script>
    </body>
    </html>
